// ==UserScript==
// @name         Twitch Channel Points Autoclaimer [TCPA]
// @version      0.1
// @description  Automatically clicks the Chest icon to get points.
// @author       0xC0LD
// @include      *://*.twitch.tv/*
// @run-at       document-start
// @icon         data:image/ico;base64,AAABAAEAICAAAAEAIACoEAAAFgAAACgAAAAgAAAAQAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/0aPgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/RpH//0WPkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP9Gkf//RpH//0aPoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/0aR//9Gkf//RpH//0aRz/9AjxAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/RpH//0aR//9Gkf//RpH//0aRz/9IjyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP9Gkf//RpH//0aR//9Gkf//RpH//0aR3/9IjyAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkd//SI8gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkd//SI8gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/RpH//0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkf//o8j//0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkd//QI8QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR////////qMzv/0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkc//QI8QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkf//RpH/////////////sNDf/0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkc//QI8QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/RpH//0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkf//////////////////y+Cw/0WR7/9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gj6AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkf//RpH///////////////////////////////////////////////////////////////////////+jyP//RpH//0aR//9Gj6AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkf////////////////////////////////////////////////////////////////////////////+jyP//RpH//0aR//9Fj5AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/RpH//0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//////////////////////////////////////////////////////////////////////////////////+jyP//RpH//0aR//9Gj4AAAAAAAAAAAAAAAAAAAAAAAAAAAP9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkf//RpH///////////////////////////////////////////////////////////////////////////////////////+jyP//RpH//0aR//9Gj4AAAAAAAAAAAAAAAAAAAAAA/0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkf////////////////////////////////////////////////////////////////////////////////////////////+Xwf//RpH//0aR/wAAAAAAAAAAAAAAAAAAAAD/RpH//0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//////////////////////////////////////////////////////////////////////////////////////////////////9Gkf//RpH/AAAAAAAAAAAAAAAAAAAAAP9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkf//RpH//////////////////////////////////////////////////////////////////////////////////////////////////0aR//9Gkf8AAAAAAAAAAAAAAAAAAAAA/0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkf//////////////////////////////////////////////////////////////////////////////////////////////////RpH//0aR/wAAAAAAAAAAAAAAAAAAAAD/RpH//0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//////////////////////////////////9Gkf//RpH///////////////////////9Gkf//RpH///////////////////////9Gkf//RpH/AAAAAAAAAAAAAAAAAAAAAP9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkf//RpH//////////////////////////////////0aR//9Gkf///////////////////////0aR//9Gkf///////////////////////0aR//9Gkf8AAAAAAAAAAAAAAAAAAAAA/0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkf//////////////////////////////////RpH//0aR////////////////////////RpH//0aR////////////////////////RpH//0aR/wAAAAAAAAAAAAAAAAAAAAD/RpH//0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//////////////////////////////////9Gkf//RpH///////////////////////9Gkf//RpH///////////////////////9Gkf//RpH/AAAAAAAAAAAAAAAAAAAAAP9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkf//RpH//////////////////////////////////0aR//9Gkf///////////////////////0aR//9Gkf///////////////////////0aR//9Gkf8AAAAAAAAAAAAAAAAAAAAA/0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkf//////////////////////////////////RpH//0aR////////////////////////RpH//0aR////////////////////////RpH//0aR/wAAAAAAAAAAAAAAAAAAAAD/RpN//0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//////////////////////////////////////////////////////////////////////////////////////////////////9Gkf//RpH/AAAAAAAAAAAAAAAAAAAAAAAAAAD/RpN//0aR//9Gkf//RpH//0aR//9Gkf//RpH//////////////////////////////////////////////////////////////////////////////////////////////////0aR//9Gkf8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/RpN//0aR//9Gkf//RpH//0aR//9Gkf//////////////////////////////////////////////////////////////////////////////////////////////////RpH//0aR/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/RpN//0aR//9Gkf//RpH//0aR//////////////////////////////////////////////////////////////////////////////////////////////////9Gkf//RpH/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/RpN//0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkf8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/RpN//0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR//9Gkf//RpH//0aR/wAAAAAAAAAA/9/////P////x////8H////A////wH//wAAD/8AAAf/AAAD/wAAAf8AAAD/AAAA/wAAAH8AAAA/AAAAHwAAAA8AAAAPAAAADwAAAA8AAAAPAAAADwAAAA8AAAAPAAAADwAAAA8AAAAPAAAAD4AAAA/AAAAP4AAAD/AAAA/4AAAM=
// ==/UserScript==

function time() {
	let d = new Date();
	let h = d.getHours();
	let m = d.getMinutes();
	let s = d.getSeconds();
	return ((h<10?'0':'') + h + ':' + (m<10?'0':'') + m + ":" + (s<10?'0':'') + s);
}

function clickChest() {
	let els = document.getElementsByClassName("claimable-bonus__icon");
	for (let i = 0; i < els.length; i++) {
		els[i].click();
		console.log(`${time()} # Claimed a bonus chest.`);
	}
}

function run() {
  console.log(`${time()} # Running...`);
  setInterval(clickChest, 5000);
}

// run after 15s
setTimeout(run, 15000);
